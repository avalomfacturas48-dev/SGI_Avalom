generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "cockroachdb"
  url      = env("DATABASE_URL")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model ava_alquiler {
  alq_id               Int                    @id(map: "ava_alquiler_pk") @default(sequence(minValue: 0, maxValue: 2147483647))
  alq_monto            String                 @db.String(20)
  alq_fechapago        DateTime               @db.Timestamp(6)
  alq_contrato         String?                @db.String(50)
  alq_estado           String                 @db.String(1)
  alq_fechacreacion    DateTime?              @db.Timestamp(6)
  prop_id              Int?
  ava_propiedad        ava_propiedad?         @relation(fields: [prop_id], references: [prop_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship34")
  ava_alquilermensual  ava_alquilermensual[]
  ava_clientexalquiler ava_clientexalquiler[]
  ava_deposito         ava_deposito[]

  @@index([prop_id], map: "ava_alquiler_fk01")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model ava_alquilermensual {
  alqm_id            Int           @id(map: "ava_alquilermensual_pk") @default(sequence(minValue: 0, maxValue: 2147483647))
  alqm_anio          String        @db.String(4)
  alqm_mes           String        @db.String(2)
  alqm_montototal    String        @db.String(20)
  alqm_montopagado   String        @db.String(20)
  alqm_fechapago     DateTime?     @db.Timestamp(6)
  alqm_estado        String        @db.String(1)
  alqm_fechacreacion DateTime?     @db.Timestamp(6)
  alq_id             Int?
  ava_alquiler       ava_alquiler? @relation(fields: [alq_id], references: [alq_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship19")
  ava_pago           ava_pago[]

  @@index([alq_id], map: "ava_alquilermensual_fk01")
}

model ava_cliente {
  cli_id               Int                    @id(map: "ava_cliente_pk") @default(sequence(minValue: 0, maxValue: 2147483647))
  cli_nombre           String                 @db.String(30)
  cli_papellido        String                 @db.String(30)
  cli_sapellido        String?                @db.String(30)
  cli_cedula           String                 @db.String(15)
  cli_telefono         String                 @db.String(15)
  cli_correo           String                 @db.String(50)
  cli_fechacreacion    DateTime?              @db.Timestamp(6)
  ava_clientexalquiler ava_clientexalquiler[]

  @@index([cli_cedula], map: "ava_cliente_unq01")
  @@index([cli_correo], map: "ava_cliente_unq02")
}

model ava_clientexalquiler {
  alq_id       Int
  cli_id       Int
  ava_alquiler ava_alquiler @relation(fields: [alq_id], references: [alq_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship30")
  ava_cliente  ava_cliente  @relation(fields: [cli_id], references: [cli_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship31")

  @@id([alq_id, cli_id], map: "pk_ava_clientexalquiler")
}

model ava_deposito {
  depo_id          Int           @id(map: "ava_deposito_pk") @default(sequence(minValue: 0, maxValue: 2147483647))
  depo_montoactual String        @db.String(15)
  depo_total       String        @db.String(15)
  depo_descripcion String?       @db.String(50)
  alq_id           Int?
  ava_alquiler     ava_alquiler? @relation(fields: [alq_id], references: [alq_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship23")
  ava_pago         ava_pago[]

  @@index([alq_id], map: "ava_deposito_fk01")
}

model ava_edificio {
  edi_id            Int             @id(map: "pk_ava_edificio") @default(sequence(minValue: 0, maxValue: 2147483647))
  edi_identificador String          @db.String(15)
  edi_descripcion   String?         @db.String(50)
  ava_propiedad     ava_propiedad[]
}

model ava_pago {
  pag_id              Int                  @id(map: "ava_pago_pk") @default(sequence(minValue: 0, maxValue: 2147483647))
  pag_monto           String               @db.String(20)
  pag_descripcion     String?              @db.String(50)
  pag_cuenta          String?              @db.String(50)
  pag_fechapago       DateTime             @db.Timestamp(6)
  res_id              Int?
  alqm_id             Int?
  depo_id             Int?
  ava_reservacion     ava_reservacion?     @relation(fields: [res_id], references: [res_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship21")
  ava_alquilermensual ava_alquilermensual? @relation(fields: [alqm_id], references: [alqm_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship22")
  ava_deposito        ava_deposito?        @relation(fields: [depo_id], references: [depo_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship24")

  @@index([depo_id], map: "ava_pago_fk01")
  @@index([alqm_id], map: "ava_pago_fk02")
  @@index([res_id], map: "ava_pago_fk03")
}

model ava_pagoservicio {
  pser_id          Int            @id(map: "ava_pagoservicio_pk") @default(sequence(minValue: 0, maxValue: 2147483647))
  pser_monto       String         @db.String(15)
  pser_fecha       DateTime       @db.Timestamp(6)
  pser_descripcion String?        @db.String(50)
  ser_id           Int?
  prop_id          Int?
  ava_servicio     ava_servicio?  @relation(fields: [ser_id], references: [ser_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship27")
  ava_propiedad    ava_propiedad? @relation(fields: [prop_id], references: [prop_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship35")

  @@index([ser_id], map: "ava_pagoservicio_fk01")
  @@index([prop_id], map: "ava_pagoservicio_fk02")
}

model ava_propiedad {
  prop_id            Int                @id(map: "ava_propiedad_pk") @default(sequence(minValue: 0, maxValue: 2147483647))
  prop_identificador String             @db.String(15)
  prop_descripcion   String?            @db.String(50)
  edi_id             Int?
  tipp_id            Int?
  ava_alquiler       ava_alquiler[]
  ava_pagoservicio   ava_pagoservicio[]
  ava_edificio       ava_edificio?      @relation(fields: [edi_id], references: [edi_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship32")
  ava_tipopropiedad  ava_tipopropiedad? @relation(fields: [tipp_id], references: [tipp_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship36")
  ava_reservacion    ava_reservacion[]

  @@index([tipp_id], map: "ava_propiedad_fk01")
  @@index([edi_id], map: "ava_propiedad_fk02")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model ava_reservacion {
  res_id              Int            @id(map: "ava_reservacion_pk") @default(sequence(minValue: 0, maxValue: 2147483647))
  res_nombrecliente   String         @db.String(50)
  res_telefonocliente String?        @db.String(15)
  res_correocliente   String?        @db.String(50)
  res_fechacreacion   DateTime       @db.Timestamp(6)
  res_fechaentrada    DateTime       @db.Timestamp(6)
  res_fechasalida     DateTime       @db.Timestamp(6)
  res_estado          String         @db.String(1)
  prop_id             Int?
  ava_pago            ava_pago[]
  ava_propiedad       ava_propiedad? @relation(fields: [prop_id], references: [prop_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship33")

  @@index([prop_id], map: "ava_reservacion_fk01")
}

model ava_servicio {
  ser_id           Int                @id(map: "ava_servicio_pk") @default(sequence(minValue: 0, maxValue: 2147483647))
  ser_nombre       String             @db.String(30)
  ser_servicio     String?            @db.String(40)
  ser_mediopago    String?            @db.String(30)
  ava_pagoservicio ava_pagoservicio[]
}

model ava_tipopropiedad {
  tipp_id       Int             @id(map: "ava_tipopropiedad_pk") @default(sequence(minValue: 0, maxValue: 2147483647))
  tipp_nombre   String          @db.String(30)
  ava_propiedad ava_propiedad[]
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model ava_usuario {
  usu_id            Int       @id(map: "ava_usuario_pk") @default(sequence(minValue: 0, maxValue: 2147483647))
  usu_nombre        String    @db.String(30)
  usu_papellido     String    @db.String(30)
  usu_sapellido     String?   @db.String(30)
  usu_cedula        String    @db.String(15)
  usu_correo        String    @db.String(50)
  usu_contrasena    String    @db.String(500)
  usu_telefono      String?   @db.String(15)
  usu_fechacreacion DateTime? @db.Timestamp(6)
  usu_estado        String    @db.String(1)
  usu_rol           String    @db.String(1)

  @@index([usu_cedula], map: "ava_usuario_unq01")
  @@index([usu_correo], map: "ava_usuario_unq02")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model parametros {
  par_nombre      String? @db.String(30)
  par_logo        String? @db.String(100)
  par_correo      String? @db.String(50)
  par_descripcion String? @db.String(50)

  @@ignore
}
