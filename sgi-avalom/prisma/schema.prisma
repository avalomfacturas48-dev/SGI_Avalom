generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "cockroachdb"
  url      = env("DATABASE_URL")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model ava_alquiler {
  alq_id                BigInt                  @id(map: "ava_alquiler_pk") @default(sequence(minValue: 0))
  alq_monto             BigInt
  alq_fechapago         DateTime                @db.Timestamp(6)
  alq_contrato          String?                 @db.String(500)
  alq_estado            String                  @db.String(1)
  alq_fechacreacion     DateTime                @default(now()) @db.Timestamp(6)
  prop_id               BigInt?
  rowid                 BigInt                  @default(autoincrement())
  ava_propiedad         ava_propiedad?          @relation(fields: [prop_id], references: [prop_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship34")
  ava_alquilercancelado ava_alquilercancelado[]
  ava_alquilermensual   ava_alquilermensual[]
  ava_clientexalquiler  ava_clientexalquiler[]
  ava_deposito          ava_deposito[]

  @@index([prop_id], map: "ava_alquiler_fk01")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model ava_alquilermensual {
  alqm_id            BigInt        @id(map: "ava_alquilermensual_pk") @default(sequence(minValue: 0))
  alqm_identificador String        @db.String(15)
  alqm_fechainicio   DateTime      @db.Timestamp(6)
  alqm_fechafin      DateTime      @db.Timestamp(6)
  alqm_montototal    BigInt
  alqm_montopagado   BigInt
  alqm_fechapago     DateTime?     @db.Timestamp(6)
  alqm_estado        String        @db.String(1)
  alqm_fechacreacion DateTime      @default(now()) @db.Timestamp(6)
  alq_id             BigInt?
  rowid              BigInt        @default(autoincrement())
  ava_alquiler       ava_alquiler? @relation(fields: [alq_id], references: [alq_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship19")
  ava_pago           ava_pago[]
}

model ava_cliente {
  cli_id               BigInt                 @id(map: "ava_cliente_pk") @default(sequence(minValue: 0))
  cli_nombre           String                 @db.String(30)
  cli_papellido        String                 @db.String(30)
  cli_sapellido        String?                @db.String(30)
  cli_cedula           String                 @unique(map: "ava_cliente_unq01") @db.String(15)
  cli_telefono         String                 @db.String(15)
  cli_correo           String                 @unique(map: "ava_cliente_unq02") @db.String(50)
  cli_fechacreacion    DateTime               @default(now()) @db.Timestamp(6)
  cli_direccion        String?                @db.String(200)
  cli_estadocivil      String?                @db.String(20)
  rowid                BigInt                 @default(autoincrement())
  ava_clientexalquiler ava_clientexalquiler[]
}

model ava_clientexalquiler {
  alq_id       BigInt
  cli_id       BigInt
  rowid        BigInt       @default(autoincrement())
  ava_alquiler ava_alquiler @relation(fields: [alq_id], references: [alq_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship30")
  ava_cliente  ava_cliente  @relation(fields: [cli_id], references: [cli_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship31")

  @@id([alq_id, cli_id], map: "pk_ava_clientexalquiler")
}

model ava_deposito {
  depo_id                BigInt        @id(map: "ava_deposito_pk") @default(sequence(minValue: 0))
  depo_montoactual       BigInt
  depo_total             BigInt
  depo_montodevuelto     BigInt?
  depo_montocastigo      BigInt?
  depo_descmontodevuelto String?       @db.String(50)
  depo_descrmontocastigo String?       @db.String(50)
  depo_fechadevolucion   DateTime?     @db.Timestamp(6)
  depo_fechacreacion     DateTime      @default(now()) @db.Timestamp(6)
  alq_id                 BigInt?
  rowid                  BigInt        @default(autoincrement())
  ava_alquiler           ava_alquiler? @relation(fields: [alq_id], references: [alq_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship23")
  ava_pago               ava_pago[]

  @@index([alq_id], map: "ava_deposito_fk01")
}

model ava_edificio {
  edi_id            BigInt          @id(map: "pk_ava_edificio") @default(sequence(minValue: 0))
  edi_identificador String          @db.String(15)
  edi_descripcion   String?         @db.String(50)
  edi_direccion     String?         @db.String(200)
  edi_codigopostal  String?         @db.String(10)
  rowid             BigInt          @default(autoincrement())
  ava_gasto         ava_gasto[]
  ava_propiedad     ava_propiedad[]
}

model ava_pago {
  pag_id              BigInt               @id(map: "ava_pago_pk") @default(sequence(minValue: 0))
  pag_monto           BigInt
  pag_descripcion     String?              @db.String(50)
  pag_cuenta          String?              @db.String(50)
  pag_estado          String               @db.String(1)
  pag_fechapago       DateTime             @db.Timestamp(6)
  pag_metodopago      String?              @db.String(30)
  pag_banco           String?              @db.String(50)
  pag_referencia      String?              @db.String(100)
  rowid               BigInt               @default(autoincrement())
  res_id              BigInt?
  alqm_id             BigInt?
  depo_id             BigInt?
  ava_anulacionpago   ava_anulacionpago[]
  ava_alquilermensual ava_alquilermensual? @relation(fields: [alqm_id], references: [alqm_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship22")
  ava_deposito        ava_deposito?        @relation(fields: [depo_id], references: [depo_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship24")
  ava_reservacion     ava_reservacion?     @relation(fields: [res_id], references: [res_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship21")
}

model ava_propiedad {
  prop_id            BigInt             @id(map: "ava_propiedad_pk") @default(sequence(minValue: 0))
  prop_identificador String             @db.String(15)
  prop_descripcion   String?            @db.String(50)
  edi_id             BigInt?
  tipp_id            BigInt?
  rowid              BigInt             @default(autoincrement())
  ava_alquiler       ava_alquiler[]
  ava_gasto          ava_gasto[]
  ava_edificio       ava_edificio?      @relation(fields: [edi_id], references: [edi_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship32")
  ava_tipopropiedad  ava_tipopropiedad? @relation(fields: [tipp_id], references: [tipp_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship36")
  ava_reservacion    ava_reservacion[]

  @@index([tipp_id], map: "ava_propiedad_fk01")
  @@index([edi_id], map: "ava_propiedad_fk02")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model ava_reservacion {
  res_id              BigInt         @id(map: "ava_reservacion_pk") @default(sequence(minValue: 0))
  res_nombrecliente   String         @db.String(50)
  res_telefonocliente String?        @db.String(15)
  res_correocliente   String?        @db.String(50)
  res_fechaentrada    DateTime       @db.Timestamp(6)
  res_fechasalida     DateTime       @db.Timestamp(6)
  res_montototal      BigInt
  res_montoactual     BigInt
  res_estado          String         @db.String(1)
  res_fechacreacion   DateTime       @default(now()) @db.Timestamp(6)
  prop_id             BigInt?
  rowid               BigInt         @default(autoincrement())
  ava_pago            ava_pago[]
  ava_propiedad       ava_propiedad? @relation(fields: [prop_id], references: [prop_id], onDelete: NoAction, onUpdate: NoAction, map: "relationship33")

  @@index([prop_id], map: "ava_reservacion_fk01")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model ava_servicio {
  ser_id        BigInt      @id(map: "ava_servicio_pk") @default(sequence(minValue: 0))
  ser_codigo    String      @unique(map: "ava_servicio_unq01") @db.String(30)
  ser_nombre    String      @db.String(30)
  ser_servicio  String?     @db.String(40)
  ser_negocio   String?     @db.String(80)
  ser_mediopago String?     @db.String(30)
  rowid         BigInt      @default(autoincrement())
  ava_gasto     ava_gasto[]
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model ava_gasto {
  gas_id             BigInt               @id(map: "ava_gasto_pk") @default(sequence(minValue: 0))
  gas_tipo           String               @db.String(1)
  gas_concepto       String               @db.String(60)
  gas_descripcion    String?              @db.String(200)
  gas_monto          BigInt
  gas_fecha          DateTime             @default(now()) @db.Timestamp(6)
  gas_estado         String               @default("A") @db.String(1)
  gas_metodopago     String?              @db.String(30)
  gas_cuenta         String?              @db.String(50)
  gas_banco          String?              @db.String(50)
  gas_referencia     String?              @db.String(100)
  gas_comprobante    String?              @db.String(500)
  edi_id             BigInt
  prop_id            BigInt?
  ser_id             BigInt?
  usu_id             BigInt?
  rowid              BigInt               @default(autoincrement())
  ava_anulaciongasto ava_anulaciongasto[]
  ava_edificio       ava_edificio         @relation(fields: [edi_id], references: [edi_id], onDelete: NoAction, onUpdate: NoAction, map: "ava_edificio_x_ava_gasto")
  ava_propiedad      ava_propiedad?       @relation(fields: [prop_id], references: [prop_id], onDelete: NoAction, onUpdate: NoAction, map: "ava_propiedad_x_ava_gasto")
  ava_servicio       ava_servicio?        @relation(fields: [ser_id], references: [ser_id], onDelete: NoAction, onUpdate: NoAction, map: "ava_servicio_x_ava_gasto")
  ava_usuario        ava_usuario?         @relation(fields: [usu_id], references: [usu_id], onDelete: NoAction, onUpdate: NoAction, map: "ava_usuario_x_ava_gasto")

  @@index([edi_id], map: "ava_gasto_fk01")
  @@index([prop_id], map: "ava_gasto_fk02")
  @@index([ser_id], map: "ava_gasto_fk03")
  @@index([gas_tipo, gas_fecha], map: "ava_gasto_idx01")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model ava_anulaciongasto {
  ang_id             BigInt      @id(map: "pk_ava_anulaciongasto") @default(sequence(minValue: 0))
  ang_motivo         String      @db.String(50)
  ang_descripcion    String?     @db.String(200)
  ang_montooriginal  BigInt
  ang_montofinal     BigInt
  ang_fechaanulacion DateTime    @default(now()) @db.Timestamp(6)
  gas_id             BigInt
  usu_id             BigInt
  rowid              BigInt      @default(autoincrement())
  ava_gasto          ava_gasto   @relation(fields: [gas_id], references: [gas_id], onDelete: NoAction, onUpdate: NoAction, map: "ava_gasto_x_ava_anulaciongasto")
  ava_usuario        ava_usuario @relation(fields: [usu_id], references: [usu_id], onDelete: NoAction, onUpdate: NoAction, map: "ava_usuario_x_ava_anulaciongasto")

  @@index([gas_id], map: "ava_anulaciongasto_fk01")
  @@index([usu_id], map: "ava_anulaciongasto_fk02")
}

model ava_tipopropiedad {
  tipp_id       BigInt          @id(map: "ava_tipopropiedad_pk") @default(sequence(minValue: 0))
  tipp_nombre   String          @db.String(30)
  rowid         BigInt          @default(autoincrement())
  ava_propiedad ava_propiedad[]
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model ava_usuario {
  usu_id             BigInt               @id(map: "ava_usuario_pk") @default(sequence(minValue: 0))
  usu_nombre         String               @db.String(30)
  usu_papellido      String               @db.String(30)
  usu_sapellido      String?              @db.String(30)
  usu_cedula         String               @unique(map: "ava_usuario_unq01") @db.String(15)
  usu_correo         String               @unique(map: "ava_usuario_unq02") @db.String(50)
  usu_contrasena     String               @db.String(500)
  usu_telefono       String?              @db.String(15)
  usu_fechacreacion  DateTime             @default(now()) @db.Timestamp(6)
  usu_estado         String               @db.String(1)
  usu_rol            String               @db.String(1)
  rowid              BigInt               @default(autoincrement())
  ava_anulaciongasto ava_anulaciongasto[]
  ava_anulacionpago  ava_anulacionpago[]
  ava_gasto          ava_gasto[]
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model parametros {
  par_nombre      String? @db.String(30)
  par_logo        String? @db.String(500)
  par_correo      String? @db.String(50)
  par_descripcion String? @db.String(200)
  rowid           BigInt  @id @default(autoincrement())

  @@ignore
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model ava_alquilercancelado {
  alqc_id                  BigInt        @id(map: "pk_ava_alquilercancelado") @default(sequence(minValue: 0))
  alqc_motivo              String        @db.String(50)
  alqc_montodevuelto       BigInt?
  alqc_castigo             BigInt?
  alqc_motivomontodevuelto String?       @db.String(50)
  alqc_motivocastigo       String?       @db.String(50)
  alqc_fecha_cancelacion   DateTime      @db.Timestamp(6)
  alqc_fechacreacion       DateTime      @default(now()) @db.Timestamp(6)
  alq_id                   BigInt?
  rowid                    BigInt        @default(autoincrement())
  ava_alquiler             ava_alquiler? @relation(fields: [alq_id], references: [alq_id], onDelete: NoAction, onUpdate: NoAction, map: "ava_alquiler_x_ava_alquilercancelado")

  @@index([alq_id], map: "ava_alquilercancelado_fk01")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model ava_anulacionpago {
  anp_id             BigInt       @id(map: "pk_ava_anulacionpago") @default(sequence(minValue: 0))
  anp_motivo         String       @db.String(50)
  anp_descripcion    String       @db.String(50)
  anp_montooriginal  BigInt
  anp_montofinal     BigInt
  anp_fechaanulacion DateTime     @default(now()) @db.Timestamp(6)
  pag_id             BigInt?
  usu_id             BigInt?
  rowid              BigInt       @default(autoincrement())
  ava_pago           ava_pago?    @relation(fields: [pag_id], references: [pag_id], onDelete: NoAction, onUpdate: NoAction, map: "ava_pago_x_ava_anulacionpago")
  ava_usuario        ava_usuario? @relation(fields: [usu_id], references: [usu_id], onDelete: NoAction, onUpdate: NoAction, map: "ava_usuario_x_ava_anulacionpago")

  @@index([pag_id], map: "ava_anulacionpago_fk01")
  @@index([usu_id], map: "ava_anulacionpago_fk02")
}
